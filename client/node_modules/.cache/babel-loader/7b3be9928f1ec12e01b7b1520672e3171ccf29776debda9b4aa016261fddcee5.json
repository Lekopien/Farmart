{"ast":null,"code":"var _jsxFileName = \"/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js\";\nimport React, { Component } from \"react\";\nimport ProductCard from \"./ProductCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProductCollection extends Component {\n  constructor(props) {\n    super(props);\n    this.handlePageChange = pageNumber => {\n      this.setState({\n        currentPage: pageNumber\n      });\n    };\n    this.handleLoadMore = () => {\n      this.setState(prevState => ({\n        productsPerPage: prevState.productsPerPage + 3\n      }));\n    };\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3\n    };\n  }\n  render() {\n    const {\n      allProducts,\n      filterCategory,\n      filterProducts\n    } = this.props;\n    const {\n      currentPage,\n      productsPerPage\n    } = this.state;\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n    let productsToRender = filterCategory === \"\" ? allProducts.slice(indexOfFirstProduct, indexOfLastProduct) : filterProducts(filterCategory).slice(indexOfFirstProduct, indexOfLastProduct);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productCollection row align-items-stretch\",\n        children: productsToRender.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n          id: product.id,\n          product: product,\n          addToBasket: this.props.addToBasket,\n          basket_id: this.props.basket_id,\n          customerBasket: this.props.customerBasket,\n          history: this.props.history,\n          current_user: this.props.current_user\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        productCollection: true,\n        row: true,\n        \"align-items-stretch\": true,\n        children: [allProducts.length > indexOfLastProduct && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleLoadMore,\n          children: \"Load More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), currentPage > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.handlePageChange(currentPage - 1),\n          children: \"< Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), allProducts.length > indexOfLastProduct && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.handlePageChange(currentPage + 1),\n          children: \"Next >\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ProductCollection;","map":{"version":3,"names":["React","Component","ProductCard","jsxDEV","_jsxDEV","ProductCollection","constructor","props","handlePageChange","pageNumber","setState","currentPage","handleLoadMore","prevState","productsPerPage","state","render","allProducts","filterCategory","filterProducts","indexOfLastProduct","indexOfFirstProduct","productsToRender","slice","children","className","map","product","id","addToBasket","basket_id","customerBasket","history","current_user","fileName","_jsxFileName","lineNumber","columnNumber","productCollection","row","length","onClick"],"sources":["/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport ProductCard from \"./ProductCard\";\n\nclass ProductCollection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3,\n    };\n  }\n\n  handlePageChange = (pageNumber) => {\n    this.setState({\n      currentPage: pageNumber,\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState((prevState) => ({\n      productsPerPage: prevState.productsPerPage + 3,\n    }));\n  };\n\n  render() {\n    const { allProducts, filterCategory, filterProducts } = this.props;\n    const { currentPage, productsPerPage } = this.state;\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n\n    let productsToRender =\n      filterCategory === \"\"\n        ? allProducts.slice(indexOfFirstProduct, indexOfLastProduct)\n        : filterProducts(filterCategory).slice(\n            indexOfFirstProduct,\n            indexOfLastProduct\n          );\n\n    return (\n      <div>\n        <div className=\"productCollection row align-items-stretch\">\n          {productsToRender.map((product) => (\n            <ProductCard\n              key={product.id}\n              id={product.id}\n              product={product}\n              addToBasket={this.props.addToBasket}\n              basket_id={this.props.basket_id}\n              customerBasket={this.props.customerBasket}\n              history={this.props.history}\n              current_user={this.props.current_user}\n            />\n          ))}\n        </div>\n        <div productCollection row align-items-stretch>\n          {allProducts.length > indexOfLastProduct && (\n            <button onClick={this.handleLoadMore}>Load More</button>\n          )}\n          {currentPage > 1 && (\n            <button onClick={() => this.handlePageChange(currentPage - 1)}>\n              &lt; Prev\n            </button>\n          )}\n          {allProducts.length > indexOfLastProduct && (\n            <button onClick={() => this.handlePageChange(currentPage + 1)}>\n              Next &gt;\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProductCollection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}