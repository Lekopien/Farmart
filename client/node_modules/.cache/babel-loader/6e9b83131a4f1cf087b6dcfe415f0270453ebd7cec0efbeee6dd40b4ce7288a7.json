{"ast":null,"code":"var _jsxFileName = \"/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Product(_ref) {\n  _s();\n  let {\n    products,\n    cartItems,\n    addToCart\n  } = _ref;\n  const [currentPage, setCurrentPage] = useState(1);\n  const [productsPerPage] = useState(3);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  // Get current products\n  const indexOfLastProduct = currentPage * productsPerPage;\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n  const filteredProducts = products.filter(product => {\n    if (!searchTerm) {\n      return true;\n    }\n    return product.name.toLowerCase().includes(searchTerm.toLowerCase()) || product.category.name.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n  const currentProducts = filteredProducts.slice(indexOfFirstProduct, indexOfLastProduct);\n\n  // Load more products\n  const loadMore = () => setCurrentPage(currentPage + 1);\n\n  // Go back to previous page\n  const goBack = () => setCurrentPage(currentPage - 1);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          border: \"none\",\n          textAlign: 'center',\n          marginTop: \"2px\"\n        },\n        type: \"search\",\n        placeholder: \"Search by name or category\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), currentProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"closebtn\",\n        onClick: event => {\n          event.target.parentElement.style.display = 'none';\n        },\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Error!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), \" No products or categories found.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : currentProducts.map(product => {\n      const itemInCart = cartItems.find(item => item.id === product.id);\n      const disabled = itemInCart ? true : false;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card\",\n        style: {\n          width: \"18rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              width: \"269px\",\n              height: \"250px\"\n            },\n            src: product.url_img,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: !product || !product.category || !product.category.name ? 0 : product.category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: product.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => addToCart(product),\n            disabled: disabled,\n            className: disabled ? \"disabled-btn\" : \"\",\n            children: disabled ? \"In Cart\" : \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: [indexOfLastProduct < filteredProducts.length && /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          backgroundColor: \"white\",\n          color: \"grey\"\n        },\n        className: \"next-btn\",\n        onClick: loadMore,\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), currentPage > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          backgroundColor: \"white\",\n          color: \"darkgrey\"\n        },\n        className: \"prev-btn\",\n        onClick: goBack,\n        children: \"< Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Product, \"YWo6i6vi0g/ni6niyKTYs1uWzrw=\");\n_c = Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Product","_ref","_s","products","cartItems","addToCart","currentPage","setCurrentPage","productsPerPage","searchTerm","setSearchTerm","indexOfLastProduct","indexOfFirstProduct","filteredProducts","filter","product","name","toLowerCase","includes","category","currentProducts","slice","loadMore","goBack","children","style","display","justifyContent","border","textAlign","marginTop","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","length","className","onClick","event","parentElement","map","itemInCart","find","item","id","disabled","class","width","height","src","url_img","alt","description","quantity","price","backgroundColor","color","_c","$RefreshReg$"],"sources":["/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\n\nexport default function Product({ products, cartItems, addToCart }) {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [productsPerPage] = useState(3);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  // Get current products\n  const indexOfLastProduct = currentPage * productsPerPage;\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n  const filteredProducts = products.filter((product) => {\n    if (!searchTerm) {\n      return true;\n    }\n    return (\n      product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      product.category.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  });\n  const currentProducts = filteredProducts.slice(\n    indexOfFirstProduct,\n    indexOfLastProduct\n  );\n\n  // Load more products\n  const loadMore = () => setCurrentPage(currentPage + 1);\n\n  // Go back to previous page\n  const goBack = () => setCurrentPage(currentPage - 1);\n\n  return (\n    <div>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <input\n          style={{ border: \"none\", textAlign: 'center', marginTop: \"2px\" }}\n          type=\"search\"\n          placeholder=\"Search by name or category\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </div>\n      {currentProducts.length === 0 ? (\n        <div className=\"alert\">\n          <span className=\"closebtn\" onClick={(event) => {\n            event.target.parentElement.style.display = 'none';\n          }}>\n            &times;\n          </span>\n          <strong>Error!</strong> No products or categories found.\n        </div>\n\n      ) : (\n        currentProducts.map((product) => {\n          const itemInCart = cartItems.find((item) => item.id === product.id);\n          const disabled = itemInCart ? true : false;\n          return (\n            <div class=\"card\" style={{ width: \"18rem\" }}>\n              <div key={product.id}>\n                <h3>{product.name}</h3>\n                <img\n                  style={{ width: \"269px\", height: \"250px\" }}\n                  src={product.url_img}\n                  alt={\"\"}\n                />\n                <p>\n                  {!product || !product.category || !product.category.name\n                    ? 0\n                    : product.category.name}\n                </p>\n                <p>{product.description}</p>\n                <p>{product.quantity}</p>\n                <p>${product.price}</p>\n\n                <button\n                  onClick={() => addToCart(product)}\n                  disabled={disabled}\n                  className={disabled ? \"disabled-btn\" : \"\"}\n                >\n                  {disabled ? \"In Cart\" : \"Add to Cart\"}\n                </button>\n              </div>\n            </div>\n          );\n        })\n      )}\n      <div className=\"pagination\">\n        {indexOfLastProduct < filteredProducts.length && (\n          <button\n            style={{ backgroundColor: \"white\", color: \"grey\" }}\n            className=\"next-btn\"\n            onClick={loadMore}\n          >\n            Load More\n          </button>\n        )}\n        {currentPage > 1 && (\n          <button\n            style={{ backgroundColor: \"white\", color: \"darkgrey\" }}\n            className=\"prev-btn\"\n            onClick={goBack}\n          >\n            &lt; Prev\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}