{"ast":null,"code":"var _jsxFileName = \"/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProductCollection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handlePrevClick = this.handlePrevClick.bind(this); // bind this method to the component\n  }\n\n  handleClick() {\n    this.setState({\n      currentPage: this.state.currentPage + 1\n    });\n  }\n  handlePrevClick() {\n    this.setState({\n      currentPage: this.state.currentPage - 1\n    });\n  }\n  render() {\n    const {\n      allProducts,\n      filterCategory,\n      filterProducts\n    } = this.props;\n    const {\n      currentPage,\n      productsPerPage\n    } = this.state;\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n    let currentProducts = [];\n    if (filterCategory === '') {\n      currentProducts = allProducts.slice(indexOfFirstProduct, indexOfLastProduct);\n    } else {\n      currentProducts = filterProducts(filterCategory).slice(indexOfFirstProduct, indexOfLastProduct);\n    }\n    const renderProducts = currentProducts.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n      id: product.id,\n      product: product,\n      addToBasket: this.props.addToBasket,\n      basket_id: this.props.basket_id,\n      customerBasket: this.props.customerBasket,\n      history: this.props.history,\n      current_user: this.props.current_user\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this));\n    const pageNumbers = [];\n    const totalProducts = filterCategory === '' ? allProducts.length : filterProducts(filterCategory).length;\n    for (let i = 1; i <= Math.ceil(totalProducts / productsPerPage); i++) {\n      pageNumbers.push(i);\n    }\n    const renderPageNumbers = pageNumbers.map(number => {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        id: number,\n        onClick: () => {\n          this.setState({\n            currentPage: number\n          });\n        },\n        children: number\n      }, number, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productCollection row align-items-stretch\",\n      children: [renderProducts, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handlePrevClick // call the new method when previous button is clicked\n          ,\n          disabled: currentPage === 1 // disable the button if current page is 1\n          ,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            this.handleClick();\n          },\n          children: \"Load more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), renderPageNumbers]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default ProductCollection;","map":{"version":3,"names":["ProductCollection","Component","constructor","props","state","currentPage","productsPerPage","handleClick","bind","handlePrevClick","setState","render","allProducts","filterCategory","filterProducts","indexOfLastProduct","indexOfFirstProduct","currentProducts","slice","renderProducts","map","product","_jsxDEV","ProductCard","id","addToBasket","basket_id","customerBasket","history","current_user","fileName","_jsxFileName","lineNumber","columnNumber","pageNumbers","totalProducts","length","i","Math","ceil","push","renderPageNumbers","number","onClick","children","className","disabled"],"sources":["/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js"],"sourcesContent":["class ProductCollection extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        currentPage: 1,\n        productsPerPage: 3,\n      };\n      this.handleClick = this.handleClick.bind(this);\n      this.handlePrevClick = this.handlePrevClick.bind(this); // bind this method to the component\n    }\n  \n    handleClick() {\n      this.setState({\n        currentPage: this.state.currentPage + 1,\n      });\n    }\n  \n    handlePrevClick() {\n      this.setState({\n        currentPage: this.state.currentPage - 1,\n      });\n    }\n  \n    render() {\n      const { allProducts, filterCategory, filterProducts } = this.props;\n      const { currentPage, productsPerPage } = this.state;\n      const indexOfLastProduct = currentPage * productsPerPage;\n      const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n      let currentProducts = [];\n      if (filterCategory === '') {\n        currentProducts = allProducts.slice(\n          indexOfFirstProduct,\n          indexOfLastProduct\n        );\n      } else {\n        currentProducts = filterProducts(filterCategory).slice(\n          indexOfFirstProduct,\n          indexOfLastProduct\n        );\n      }\n      const renderProducts = currentProducts.map((product) => (\n        <ProductCard\n          key={product.id}\n          id={product.id}\n          product={product}\n          addToBasket={this.props.addToBasket}\n          basket_id={this.props.basket_id}\n          customerBasket={this.props.customerBasket}\n          history={this.props.history}\n          current_user={this.props.current_user}\n        />\n      ));\n      const pageNumbers = [];\n      const totalProducts = filterCategory === ''\n        ? allProducts.length\n        : filterProducts(filterCategory).length;\n      for (let i = 1; i <= Math.ceil(totalProducts / productsPerPage); i++) {\n        pageNumbers.push(i);\n      }\n      const renderPageNumbers = pageNumbers.map((number) => {\n        return (\n          <button\n            key={number}\n            id={number}\n            onClick={() => {\n              this.setState({ currentPage: number });\n            }}\n          >\n            {number}\n          </button>\n        );\n      });\n      return (\n        <div className=\"productCollection row align-items-stretch\">\n          {renderProducts}\n          <div className=\"pagination\">\n            <button\n              onClick={this.handlePrevClick} // call the new method when previous button is clicked\n              disabled={currentPage === 1} // disable the button if current page is 1\n            >\n              Previous\n            </button>\n            <button\n              onClick={() => {\n                this.handleClick();\n              }}\n            >\n              Load more\n            </button>\n            {renderPageNumbers}\n          </div>\n        </div>\n      );\n    }\n  }\n  \n  export default ProductCollection;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}