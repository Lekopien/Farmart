{"ast":null,"code":"var _jsxFileName = \"/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js\";\nimport React, { Component } from 'react';\nimport ProductCard from './ProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProductCollection extends Component {\n  constructor(props) {\n    super(props);\n    this.handlePageChange = pageNumber => {\n      this.setState({\n        currentPage: pageNumber\n      });\n    };\n    this.handleLoadMore = () => {\n      this.setState(prevState => ({\n        productsPerPage: prevState.productsPerPage + 3\n      }));\n    };\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3\n    };\n  }\n  render() {\n    const {\n      allProducts,\n      filterCategory,\n      filterProducts\n    } = this.props;\n    const {\n      currentPage,\n      productsPerPage\n    } = this.state;\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n    let productsToRender = filterCategory === '' ? allProducts.slice(indexOfFirstProduct, indexOfLastProduct) : filterProducts(filterCategory).slice(indexOfFirstProduct, indexOfLastProduct);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productCollection row align-items-stretch\",\n      children: [productsToRender.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n        id: product.id,\n        product: product,\n        addToBasket: this.props.addToBasket,\n        basket_id: this.props.basket_id,\n        customerBasket: this.props.customerBasket,\n        history: this.props.history,\n        current_user: this.props.current_user\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [allProducts.length > indexOfLastProduct && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleLoadMore,\n          children: \"Load More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), currentPage > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.handlePageChange(currentPage - 1),\n          children: \"< Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), allProducts.length > indexOfLastProduct && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.handlePageChange(currentPage + 1),\n          children: \"Next >\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ProductCollection;","map":{"version":3,"names":["React","Component","ProductCard","jsxDEV","_jsxDEV","ProductCollection","constructor","props","handlePageChange","pageNumber","setState","currentPage","handleLoadMore","prevState","productsPerPage","state","render","allProducts","filterCategory","filterProducts","indexOfLastProduct","indexOfFirstProduct","productsToRender","slice","className","children","map","product","id","addToBasket","basket_id","customerBasket","history","current_user","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick"],"sources":["/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js"],"sourcesContent":["import React, { Component } from 'react';\nimport ProductCard from './ProductCard'\n\nclass ProductCollection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3\n    };\n  }\n\n  handlePageChange = pageNumber => {\n    this.setState({\n      currentPage: pageNumber\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({\n      productsPerPage: prevState.productsPerPage + 3\n    }));\n  };\n\n  render() {\n    const { allProducts, filterCategory, filterProducts } = this.props;\n    const { currentPage, productsPerPage } = this.state;\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n\n    let productsToRender =\n      filterCategory === ''\n        ? allProducts.slice(indexOfFirstProduct, indexOfLastProduct)\n        : filterProducts(filterCategory).slice(indexOfFirstProduct, indexOfLastProduct);\n\n    return (\n      <div className=\"productCollection row align-items-stretch\">\n        {productsToRender.map(product => (\n          <ProductCard\n            key={product.id}\n            id={product.id}\n            product={product}\n            addToBasket={this.props.addToBasket}\n            basket_id={this.props.basket_id}\n            customerBasket={this.props.customerBasket}\n            history={this.props.history}\n            current_user={this.props.current_user}\n          />\n        ))}\n        <div>\n         {allProducts.length > indexOfLastProduct && (\n            <button onClick={this.handleLoadMore}>Load More</button>\n            )}\n            {currentPage > 1 && (\n            <button onClick={() => this.handlePageChange(currentPage - 1)}>&lt; Prev</button>\n            )}\n        {allProducts.length > indexOfLastProduct && (\n          <button onClick={() => this.handlePageChange(currentPage + 1)}>Next &gt;</button>\n        )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProductCollection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}