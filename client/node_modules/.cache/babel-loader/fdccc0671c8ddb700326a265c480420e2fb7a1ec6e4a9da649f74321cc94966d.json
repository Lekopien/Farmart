{"ast":null,"code":"var _jsxFileName = \"/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js\";\nimport React, { Component } from 'react';\nimport Product from './Product';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProductCollection extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3\n    };\n    // Get current products\n    this.getCurrentProducts = () => {\n      const {\n        allProducts,\n        filterCategory,\n        filterProducts\n      } = this.props;\n      const {\n        currentPage,\n        productsPerPage\n      } = this.state;\n      const indexOfLastProduct = currentPage * productsPerPage;\n      const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n      const currentProducts = filterCategory === '' ? allProducts.slice(indexOfFirstProduct, indexOfLastProduct) : filterProducts(filterCategory).slice(indexOfFirstProduct, indexOfLastProduct);\n      return currentProducts;\n    };\n    // Change page\n    this.paginate = pageNumber => {\n      this.setState({\n        currentPage: pageNumber\n      });\n    };\n    // Load more products\n    this.loadMore = () => {\n      this.setState(prevState => ({\n        currentPage: prevState.currentPage + 1\n      }));\n    };\n    // Go back to previous page\n    this.goBack = () => {\n      this.setState(prevState => ({\n        currentPage: prevState.currentPage - 1\n      }));\n    };\n  }\n  render() {\n    const {\n      basket_id,\n      customerBasket,\n      addToBasket,\n      history,\n      current_user\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productCollection row align-items-stretch\",\n      children: [/*#__PURE__*/_jsxDEV(Product, {\n        products: this.getCurrentProducts(),\n        cartItems: customerBasket,\n        addToCart: addToBasket\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [this.getCurrentProducts().length < this.props.allProducts.length && /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            backgroundColor: \"white\",\n            color: \"grey\"\n          },\n          className: \"next-btn\",\n          onClick: this.loadMore,\n          children: \"Load More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), this.state.currentPage > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            backgroundColor: \"white\",\n            color: \"darkgrey\"\n          },\n          className: \"prev-btn\",\n          onClick: this.goBack,\n          children: \"< Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ProductCollection;","map":{"version":3,"names":["React","Component","Product","jsxDEV","_jsxDEV","ProductCollection","constructor","arguments","state","currentPage","productsPerPage","getCurrentProducts","allProducts","filterCategory","filterProducts","props","indexOfLastProduct","indexOfFirstProduct","currentProducts","slice","paginate","pageNumber","setState","loadMore","prevState","goBack","render","basket_id","customerBasket","addToBasket","history","current_user","className","children","products","cartItems","addToCart","fileName","_jsxFileName","lineNumber","columnNumber","length","style","backgroundColor","color","onClick"],"sources":["/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Product from './Product';\n\nclass ProductCollection extends Component {\n  state = {\n    currentPage: 1,\n    productsPerPage: 3\n  }\n\n  // Get current products\n  getCurrentProducts = () => {\n    const { allProducts, filterCategory, filterProducts } = this.props;\n    const { currentPage, productsPerPage } = this.state;\n\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n\n    const currentProducts = filterCategory === '' \n      ? allProducts.slice(indexOfFirstProduct, indexOfLastProduct)\n      : filterProducts(filterCategory).slice(indexOfFirstProduct, indexOfLastProduct)\n\n    return currentProducts;\n  }\n\n  // Change page\n  paginate = (pageNumber) => {\n    this.setState({ currentPage: pageNumber });\n  }\n\n  // Load more products\n  loadMore = () => {\n    this.setState(prevState => ({ currentPage: prevState.currentPage + 1 }));\n  }\n\n  // Go back to previous page\n  goBack = () => {\n    this.setState(prevState => ({ currentPage: prevState.currentPage - 1 }));\n  }\n\n  render() {\n    const { basket_id, customerBasket, addToBasket, history, current_user } = this.props;\n\n    return (\n      <div className=\"productCollection row align-items-stretch\">\n        <Product\n          products={this.getCurrentProducts()}\n          cartItems={customerBasket}\n          addToCart={addToBasket}\n        />\n        <div className=\"pagination\">\n          {this.getCurrentProducts().length < this.props.allProducts.length &&\n            <button style={{backgroundColor: \"white\", color: \"grey\"}} className=\"next-btn\" onClick={this.loadMore}>\n              Load More\n            </button>\n          }\n          {this.state.currentPage > 1 &&\n            <button style={{backgroundColor: \"white\", color: \"darkgrey\"}} className=\"prev-btn\" onClick={this.goBack}>\n              &lt; Prev\n            </button>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProductCollection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}