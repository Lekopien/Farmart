{"ast":null,"code":"var _jsxFileName = \"/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js\";\nimport React, { Component } from 'react';\nimport ProductCard from './ProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProductCollection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n  handleClick() {\n    this.setState({\n      currentPage: this.state.currentPage + 1\n    });\n  }\n  render() {\n    const {\n      allProducts,\n      filterCategory,\n      filterProducts\n    } = this.props;\n    const {\n      currentPage,\n      productsPerPage\n    } = this.state;\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n    let currentProducts = [];\n    if (filterCategory === '') {\n      currentProducts = allProducts.slice(indexOfFirstProduct, indexOfLastProduct);\n    } else {\n      currentProducts = filterProducts(filterCategory).slice(indexOfFirstProduct, indexOfLastProduct);\n    }\n    const renderProducts = currentProducts.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n      id: product.id,\n      product: product,\n      addToBasket: this.props.addToBasket,\n      basket_id: this.props.basket_id,\n      customerBasket: this.props.customerBasket,\n      history: this.props.history,\n      current_user: this.props.current_user\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this));\n    const pageNumbers = [];\n    const totalProducts = filterCategory === '' ? allProducts.length : filterProducts(filterCategory).length;\n    for (let i = 1; i <= Math.ceil(totalProducts / productsPerPage); i++) {\n      pageNumbers.push(i);\n    }\n    const renderPageNumbers = pageNumbers.map(number => {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        id: number,\n        onClick: () => {\n          this.setState({\n            currentPage: number\n          });\n        },\n        children: number\n      }, number, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productCollection row align-items-stretch\",\n      children: [renderProducts, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            this.handleClick();\n          },\n          children: \"Load more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), renderPageNumbers]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ProductCollection;","map":{"version":3,"names":["React","Component","ProductCard","jsxDEV","_jsxDEV","ProductCollection","constructor","props","state","currentPage","productsPerPage","handleClick","bind","setState","render","allProducts","filterCategory","filterProducts","indexOfLastProduct","indexOfFirstProduct","currentProducts","slice","renderProducts","map","product","id","addToBasket","basket_id","customerBasket","history","current_user","fileName","_jsxFileName","lineNumber","columnNumber","pageNumbers","totalProducts","length","i","Math","ceil","push","renderPageNumbers","number","onClick","children","className"],"sources":["/home/frankkinuthia/Development/Farmart-proper/client/src/customerComponents/ProductCollection.js"],"sourcesContent":["import React, { Component } from 'react';\nimport ProductCard from './ProductCard';\nclass ProductCollection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      productsPerPage: 3,\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n  handleClick() {\n    this.setState({\n      currentPage: this.state.currentPage + 1,\n    });\n  }\n  render() {\n    const { allProducts, filterCategory, filterProducts } = this.props;\n    const { currentPage, productsPerPage } = this.state;\n    const indexOfLastProduct = currentPage * productsPerPage;\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n    let currentProducts = [];\n    if (filterCategory === '') {\n      currentProducts = allProducts.slice(\n        indexOfFirstProduct,\n        indexOfLastProduct\n      );\n    } else {\n      currentProducts = filterProducts(filterCategory).slice(\n        indexOfFirstProduct,\n        indexOfLastProduct\n      );\n    }\n    const renderProducts = currentProducts.map((product) => (\n      <ProductCard\n        key={product.id}\n        id={product.id}\n        product={product}\n        addToBasket={this.props.addToBasket}\n        basket_id={this.props.basket_id}\n        customerBasket={this.props.customerBasket}\n        history={this.props.history}\n        current_user={this.props.current_user}\n      />\n    ));\n    const pageNumbers = [];\n    const totalProducts = filterCategory === ''\n      ? allProducts.length\n      : filterProducts(filterCategory).length;\n    for (let i = 1; i <= Math.ceil(totalProducts / productsPerPage); i++) {\n      pageNumbers.push(i);\n    }\n    const renderPageNumbers = pageNumbers.map((number) => {\n      return (\n        <button\n          key={number}\n          id={number}\n          onClick={() => {\n            this.setState({ currentPage: number });\n          }}\n        >\n          {number}\n        </button>\n      );\n    });\n    return (\n      <div className=\"productCollection row align-items-stretch\">\n        {renderProducts}\n        <div className=\"pagination\">\n          <button\n            onClick={() => {\n              this.handleClick();\n            }}\n          >\n            Load more\n          </button>\n          {renderPageNumbers}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ProductCollection;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}